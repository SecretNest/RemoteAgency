<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Handle network transportations</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="162ef05d-ab9f-49e0-ad56-2ed045f7aae0" /><meta name="Description" content="Important information in message transporting" /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Remote Agency<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\e572b781-93d2-4e52-afb1-8ce06607856b.htm" title="Remote Agency" tocid="roottoc">Remote Agency</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/2fe3f60f-7261-4cb5-826b-b84bfeab6a3e.htm" title="How to" tocid="2fe3f60f-7261-4cb5-826b-b84bfeab6a3e">How to</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/ecc78678-d7a8-41b7-94ce-8743add59236.htm" title="Tutorial" tocid="ecc78678-d7a8-41b7-94ce-8743add59236">Tutorial</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/c84610d8-63f7-48b7-aa35-3a66c03859a1.htm" title="Example: Use Remote Agency" tocid="c84610d8-63f7-48b7-aa35-3a66c03859a1">Example: Use Remote Agency</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/0a431cb5-f6dc-4fa3-ae88-33e70d7c8442.htm" title="Develop a serializer" tocid="0a431cb5-f6dc-4fa3-ae88-33e70d7c8442">Develop a serializer</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fdc35204-77be-4f29-90a2-919bdfca97a2.htm" title="Disposing" tocid="fdc35204-77be-4f29-90a2-919bdfca97a2">Disposing</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/162ef05d-ab9f-49e0-ad56-2ed045f7aae0.htm" title="Handle network transportations" tocid="162ef05d-ab9f-49e0-ad56-2ed045f7aae0">Handle network transportations</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Handle network transportations</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>Important information in message transporting</p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Important information</span></div><div id="ID0RBSection" class="collapsibleSection"><ul><li><p>If there is something wrong while sending data, an exception should be thrown.</p></li><li><p>The message should be sent before the returning of the handler method of <a href="1887b9d3-4692-2c2e-d054-1d386d9e1797.htm">MessageForSendingPrepared</a>.</p></li><li><p>If there is something wrong after sending data, and the data could not be received by target, a serialized and packed exception message should be generated and returned by calling <a href="eada8649-6ede-e71e-0820-47c38ff0db2b.htm">ProcessPackagedMessage(TNetworkMessage)</a>.
          </p></li><li><p>Proxy objects with event supported need to send a message to service wrapper while disposing, for cleaning the handler of events. If a network is broken and cannot be resumed, the message should be sent instead for each client related.</p><ul><li><p>To be mentioned the proxy objects which need this processing is found or removed:</p><p><a href="ce652d44-3605-31d5-30ac-1447c67898a4.htm">DisposingMessageRequiredProxyAdded</a> and <a href="25e76b5e-a067-2c3d-78b1-353d666b89c1.htm">DisposingMessageRequiredProxyRemoved</a> should be handled.</p></li><li><p>To query the existed proxy id which need this processing:</p><p>Use <a href="94b9edae-17d5-f3dd-3675-2a8f0fe965a2.htm">GetAllDisposingRequiredProxies<span id="LST8E00FEAC_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST8E00FEAC_0?cs=()|vb=|cpp=()|nu=()|fs=()");</script></a>.</p></li><li><p>Call for sending disposing message:</p><p>For one proxy: <a href="87f26f7d-b96c-4515-9f0b-a8e470a1694e.htm">OnProxyDisposed(Guid)</a>;</p><p>For all proxies on one site: <a href="285dfea2-e195-71e0-cdd8-5bf68518db81.htm">OnProxiesOfSiteDisposed(Guid)</a>;</p></li></ul><p>Calling such methods after the certain proxy object disposing message processed, no matter the message is from the real proxy object or through these methods above, will not cause any problem, nor throw any exception.</p></li></ul></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID1RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="7947073a-78df-4f60-89b1-926ed9449451.htm">Remote Agency</a></div><div class="seeAlsoStyle"><a href="c84610d8-63f7-48b7-aa35-3a66c03859a1.htm">Example: Use Remote Agency</a></div><div class="seeAlsoStyle"><a href="fdc35204-77be-4f29-90a2-919bdfca97a2.htm">Disposing</a></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>