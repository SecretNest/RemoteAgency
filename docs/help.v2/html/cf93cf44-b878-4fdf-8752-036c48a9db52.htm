<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Message Filtering</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="cf93cf44-b878-4fdf-8752-036c48a9db52" /><meta name="Description" content="Developer can filter the messages after received and before being sent." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Remote Agency<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/54b2e0fb-7a41-44f2-8800-831e473db023.htm" title="Remote Agency" tocid="roottoc">Remote Agency</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/bd599f96-a496-4309-8a6c-82f5e772989f.htm" title="Instance" tocid="bd599f96-a496-4309-8a6c-82f5e772989f">Instance</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/605ebb50-c23c-4f74-9a16-8aec76c91a01.htm" title="Assembly Building" tocid="605ebb50-c23c-4f74-9a16-8aec76c91a01">Assembly Building</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/8063be9a-3a43-4905-8778-072d57437e8b.htm" title="Disposing Notification" tocid="8063be9a-3a43-4905-8778-072d57437e8b">Disposing Notification</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/26d57454-40da-4f5d-aff5-7647aac1acbd.htm" title="Serializer" tocid="26d57454-40da-4f5d-aff5-7647aac1acbd">Serializer</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/cf93cf44-b878-4fdf-8752-036c48a9db52.htm" title="Message Filtering" tocid="cf93cf44-b878-4fdf-8752-036c48a9db52">Message Filtering</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4895119b-e34a-45d3-a1ce-6319a8bf97e0.htm" title="Ping" tocid="4895119b-e34a-45d3-a1ce-6319a8bf97e0">Ping</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/dc569fad-19e9-46dd-869d-6ee90c5dbe32.htm" title="Consistency" tocid="dc569fad-19e9-46dd-869d-6ee90c5dbe32">Consistency</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>Message Filtering</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>Developer can filter the messages after received and before being sent.</p></div><div class="collapsibleAreaRegion" id="Filter"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Message Filtering</span></div><div id="ID0RBSection" class="collapsibleSection"><p>Developer can filter the messages after received and before being sent by handling <a href="E_SecretNest_RemoteAgency_RemoteAgency_2_AfterMessageReceived.htm">AfterMessageReceived</a> and <a href="E_SecretNest_RemoteAgency_RemoteAgency_2_BeforeMessageSending.htm">BeforeMessageSending</a>. This is useful for audit and authentication checking.</p><p>The argument of the handler provides the message body. Developer can change properties of the message with caution. And, developer can break the message routing using one of the following methods provided by the argument of the handler.</p><li><ul class="noBullet"><li><p><a href="M_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgsBase_SetToContinue.htm">SetToContinue</a>: Default. Continues the message sending or processing.</p></li><li><p><a href="M_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgsBase_SetToTerminateAndReturnException.htm">SetToTerminateAndReturnException</a>: Terminates this process and send an instance of <a href="T_SecretNest_RemoteAgency_MessageProcessTerminatedException.htm">MessageProcessTerminatedException</a> back to the sender. Cannot be used when <a href="P_SecretNest_RemoteAgency_MessageBodyEventArgsBase_IsOneWay.htm">IsOneWay</a> is true.</p></li><li><p><a href="M_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgsBase_SetToReplaceWithException.htm">SetToReplaceWithException</a>: Replaces this message by an instance of <a href="T_SecretNest_RemoteAgency_MessageProcessTerminatedException.htm">MessageProcessTerminatedException</a> then sends it to the receiver. Cannot be used when message direction is <a href="T_SecretNest_RemoteAgency_MessageDirection.htm">Sending</a>. Caution: This may cause the sender throw <a href="T_SecretNest_RemoteAgency_AccessingTimeOutException.htm">AccessingTimeOutException</a> if <a href="P_SecretNest_RemoteAgency_MessageBodyEventArgsBase_IsOneWay.htm">IsOneWay</a> is set to false.</p></li><li><p><a href="M_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgsBase_SetToReplaceWithExceptionAndReturn.htm">SetToReplaceWithExceptionAndReturn</a>: Replaces this message by an instance of <a href="T_SecretNest_RemoteAgency_MessageProcessTerminatedException.htm">MessageProcessTerminatedException</a> then sends it to the receiver and the sender.</p></li><li><p><a href="M_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgsBase_SetToTerminateSilently.htm">SetToTerminateSilently</a>: Terminates this process silently. Caution: This may cause the sender throw <a href="T_SecretNest_RemoteAgency_AccessingTimeOutException.htm">AccessingTimeOutException</a> if <a href="P_SecretNest_RemoteAgency_MessageBodyEventArgsBase_IsOneWay.htm">IsOneWay</a> is set to false.</p></li></ul></li><p>When <a href="P_SecretNest_RemoteAgency_BeforeMessageProcessingEventArgs_2_IncludeTerminatedMessageInException.htm">IncludeTerminatedMessageInException</a> is set to true, the terminated message will be contained in the exception. For hiding the message, set it as false. Default value is true.</p></div><div class="collapsibleAreaRegion" id="Ignore"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Ignoring</span></div><div id="ID1RBSection" class="collapsibleSection"><p>By default, system level messages (<a href="P_SecretNest_RemoteAgency_MessageBodyEventArgsBase_MessageType.htm">MessageType</a> is <a href="T_SecretNest_RemoteAgency_MessageType.htm">EventAdd</a>, <a href="T_SecretNest_RemoteAgency_MessageType.htm">EventRemove</a> or <a href="T_SecretNest_RemoteAgency_MessageType.htm">SpecialCommand</a>) will not raise the events. If developer want to filter those messages also, set <a href="P_SecretNest_RemoteAgency_RemoteAgency_2_BypassSystemMessagesFromFiltering.htm">BypassSystemMessagesFromFiltering</a> to false.</p><p>Internal messages, which sent from and to the same instance of Remote Agency, will never raise the events unless <a href="P_SecretNest_RemoteAgency_RemoteAgencyBase_LoopbackAddressDetection.htm">LoopbackAddressDetection</a> is set to false.</p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID2RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="bd599f96-a496-4309-8a6c-82f5e772989f.htm">Instance</a></div><div class="seeAlsoStyle"><a href="9c3f74b5-3a60-464b-8f4e-85973938528c.htm">Concept</a></div><div class="seeAlsoStyle"><a href="dc569fad-19e9-46dd-869d-6ee90c5dbe32.htm">The Best Practice when in mixing environment</a></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>